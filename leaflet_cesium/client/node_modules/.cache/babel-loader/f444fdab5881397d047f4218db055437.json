{"ast":null,"code":"import Color from \"../Core/Color.js\";\nimport defaultValue from \"../Core/defaultValue.js\";\nimport defined from \"../Core/defined.js\";\nimport Event from \"../Core/Event.js\";\nimport GeographicTilingScheme from \"../Core/GeographicTilingScheme.js\";\nimport when from \"../ThirdParty/when.js\";\nvar defaultColor = new Color(1.0, 1.0, 1.0, 0.4);\nvar defaultGlowColor = new Color(0.0, 1.0, 0.0, 0.05);\nvar defaultBackgroundColor = new Color(0.0, 0.5, 0.0, 0.2);\n/**\n * @typedef {Object} GridImageryProvider.ConstructorOptions\n *\n * Initialization options for the GridImageryProvider constructor\n *\n * @property {TilingScheme} [tilingScheme=new GeographicTilingScheme()] The tiling scheme for which to draw tiles.\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If the tilingScheme is specified,\n *                    this parameter is ignored and the tiling scheme's ellipsoid is used instead. If neither\n *                    parameter is specified, the WGS84 ellipsoid is used.\n * @property {Number} [cells=8] The number of grids cells.\n * @property {Color} [color=Color(1.0, 1.0, 1.0, 0.4)] The color to draw grid lines.\n * @property {Color} [glowColor=Color(0.0, 1.0, 0.0, 0.05)] The color to draw glow for grid lines.\n * @property {Number} [glowWidth=6] The width of lines used for rendering the line glow effect.\n * @property {Color} [backgroundColor=Color(0.0, 0.5, 0.0, 0.2)] Background fill color.\n * @property {Number} [tileWidth=256] The width of the tile for level-of-detail selection purposes.\n * @property {Number} [tileHeight=256] The height of the tile for level-of-detail selection purposes.\n * @property {Number} [canvasSize=256] The size of the canvas used for rendering.\n */\n\n/**\n * An {@link ImageryProvider} that draws a wireframe grid on every tile with controllable background and glow.\n * May be useful for custom rendering effects or debugging terrain.\n *\n * @alias GridImageryProvider\n * @constructor\n * @param {GridImageryProvider.ConstructorOptions} options Object describing initialization options\n *\n */\n\nfunction GridImageryProvider(options) {\n  options = defaultValue(options, defaultValue.EMPTY_OBJECT);\n  /**\n   * The default alpha blending value of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultAlpha = undefined;\n  /**\n   * The default alpha blending value on the night side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultNightAlpha = undefined;\n  /**\n   * The default alpha blending value on the day side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultDayAlpha = undefined;\n  /**\n   * The default brightness of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0\n   * makes the imagery darker while greater than 1.0 makes it brighter.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultBrightness = undefined;\n  /**\n   * The default contrast of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0 reduces\n   * the contrast while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultContrast = undefined;\n  /**\n   * The default hue of this provider in radians. 0.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultHue = undefined;\n  /**\n   * The default saturation of this provider. 1.0 uses the unmodified imagery color. Less than 1.0 reduces the\n   * saturation while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultSaturation = undefined;\n  /**\n   * The default gamma correction to apply to this provider.  1.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n\n  this.defaultGamma = undefined;\n  /**\n   * The default texture minification filter to apply to this provider.\n   *\n   * @type {TextureMinificationFilter}\n   * @default undefined\n   */\n\n  this.defaultMinificationFilter = undefined;\n  /**\n   * The default texture magnification filter to apply to this provider.\n   *\n   * @type {TextureMagnificationFilter}\n   * @default undefined\n   */\n\n  this.defaultMagnificationFilter = undefined;\n  this._tilingScheme = defined(options.tilingScheme) ? options.tilingScheme : new GeographicTilingScheme({\n    ellipsoid: options.ellipsoid\n  });\n  this._cells = defaultValue(options.cells, 8);\n  this._color = defaultValue(options.color, defaultColor);\n  this._glowColor = defaultValue(options.glowColor, defaultGlowColor);\n  this._glowWidth = defaultValue(options.glowWidth, 6);\n  this._backgroundColor = defaultValue(options.backgroundColor, defaultBackgroundColor);\n  this._errorEvent = new Event();\n  this._tileWidth = defaultValue(options.tileWidth, 256);\n  this._tileHeight = defaultValue(options.tileHeight, 256); // A little larger than tile size so lines are sharper\n  // Note: can't be too much difference otherwise texture blowout\n\n  this._canvasSize = defaultValue(options.canvasSize, 256); // We only need a single canvas since all tiles will be the same\n\n  this._canvas = this._createGridCanvas();\n  this._readyPromise = when.resolve(true);\n}\n\nObject.defineProperties(GridImageryProvider.prototype, {\n  /**\n   * Gets the proxy used by this provider.\n   * @memberof GridImageryProvider.prototype\n   * @type {Proxy}\n   * @readonly\n   */\n  proxy: {\n    get: function () {\n      return undefined;\n    }\n  },\n\n  /**\n   * Gets the width of each tile, in pixels. This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileWidth: {\n    get: function () {\n      return this._tileWidth;\n    }\n  },\n\n  /**\n   * Gets the height of each tile, in pixels.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileHeight: {\n    get: function () {\n      return this._tileHeight;\n    }\n  },\n\n  /**\n   * Gets the maximum level-of-detail that can be requested.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number|undefined}\n   * @readonly\n   */\n  maximumLevel: {\n    get: function () {\n      return undefined;\n    }\n  },\n\n  /**\n   * Gets the minimum level-of-detail that can be requested.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  minimumLevel: {\n    get: function () {\n      return undefined;\n    }\n  },\n\n  /**\n   * Gets the tiling scheme used by this provider.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {TilingScheme}\n   * @readonly\n   */\n  tilingScheme: {\n    get: function () {\n      return this._tilingScheme;\n    }\n  },\n\n  /**\n   * Gets the rectangle, in radians, of the imagery provided by this instance.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Rectangle}\n   * @readonly\n   */\n  rectangle: {\n    get: function () {\n      return this._tilingScheme.rectangle;\n    }\n  },\n\n  /**\n   * Gets the tile discard policy.  If not undefined, the discard policy is responsible\n   * for filtering out \"missing\" tiles via its shouldDiscardImage function.  If this function\n   * returns undefined, no tiles are filtered.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {TileDiscardPolicy}\n   * @readonly\n   */\n  tileDiscardPolicy: {\n    get: function () {\n      return undefined;\n    }\n  },\n\n  /**\n   * Gets an event that is raised when the imagery provider encounters an asynchronous error.  By subscribing\n   * to the event, you will be notified of the error and can potentially recover from it.  Event listeners\n   * are passed an instance of {@link TileProviderError}.\n   * @memberof GridImageryProvider.prototype\n   * @type {Event}\n   * @readonly\n   */\n  errorEvent: {\n    get: function () {\n      return this._errorEvent;\n    }\n  },\n\n  /**\n   * Gets a value indicating whether or not the provider is ready for use.\n   * @memberof GridImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  ready: {\n    get: function () {\n      return true;\n    }\n  },\n\n  /**\n   * Gets a promise that resolves to true when the provider is ready for use.\n   * @memberof GridImageryProvider.prototype\n   * @type {Promise.<Boolean>}\n   * @readonly\n   */\n  readyPromise: {\n    get: function () {\n      return this._readyPromise;\n    }\n  },\n\n  /**\n   * Gets the credit to display when this imagery provider is active.  Typically this is used to credit\n   * the source of the imagery.  This function should not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Credit}\n   * @readonly\n   */\n  credit: {\n    get: function () {\n      return undefined;\n    }\n  },\n\n  /**\n   * Gets a value indicating whether or not the images provided by this imagery provider\n   * include an alpha channel.  If this property is false, an alpha channel, if present, will\n   * be ignored.  If this property is true, any images without an alpha channel will be treated\n   * as if their alpha is 1.0 everywhere.  When this property is false, memory usage\n   * and texture upload time are reduced.\n   * @memberof GridImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  hasAlphaChannel: {\n    get: function () {\n      return true;\n    }\n  }\n});\n/**\n * Draws a grid of lines into a canvas.\n */\n\nGridImageryProvider.prototype._drawGrid = function (context) {\n  var minPixel = 0;\n  var maxPixel = this._canvasSize;\n\n  for (var x = 0; x <= this._cells; ++x) {\n    var nx = x / this._cells;\n    var val = 1 + nx * (maxPixel - 1);\n    context.moveTo(val, minPixel);\n    context.lineTo(val, maxPixel);\n    context.moveTo(minPixel, val);\n    context.lineTo(maxPixel, val);\n  }\n\n  context.stroke();\n};\n/**\n * Render a grid into a canvas with background and glow\n */\n\n\nGridImageryProvider.prototype._createGridCanvas = function () {\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = this._canvasSize;\n  canvas.height = this._canvasSize;\n  var minPixel = 0;\n  var maxPixel = this._canvasSize;\n  var context = canvas.getContext(\"2d\"); // Fill the background\n\n  var cssBackgroundColor = this._backgroundColor.toCssColorString();\n\n  context.fillStyle = cssBackgroundColor;\n  context.fillRect(minPixel, minPixel, maxPixel, maxPixel); // Glow for grid lines\n\n  var cssGlowColor = this._glowColor.toCssColorString();\n\n  context.strokeStyle = cssGlowColor; // Wide\n\n  context.lineWidth = this._glowWidth;\n  context.strokeRect(minPixel, minPixel, maxPixel, maxPixel);\n\n  this._drawGrid(context); // Narrow\n\n\n  context.lineWidth = this._glowWidth * 0.5;\n  context.strokeRect(minPixel, minPixel, maxPixel, maxPixel);\n\n  this._drawGrid(context); // Grid lines\n\n\n  var cssColor = this._color.toCssColorString(); // Border\n\n\n  context.strokeStyle = cssColor;\n  context.lineWidth = 2;\n  context.strokeRect(minPixel, minPixel, maxPixel, maxPixel); // Inner\n\n  context.lineWidth = 1;\n\n  this._drawGrid(context);\n\n  return canvas;\n};\n/**\n * Gets the credits to be displayed when a given tile is displayed.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level;\n * @returns {Credit[]} The credits to be displayed when the tile is displayed.\n *\n * @exception {DeveloperError} <code>getTileCredits</code> must not be called before the imagery provider is ready.\n */\n\n\nGridImageryProvider.prototype.getTileCredits = function (x, y, level) {\n  return undefined;\n};\n/**\n * Requests the image for a given tile.  This function should\n * not be called before {@link GridImageryProvider#ready} returns true.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n * @returns {Promise.<HTMLImageElement|HTMLCanvasElement>|undefined} A promise for the image that will resolve when the image is available, or\n *          undefined if there are too many active requests to the server, and the request\n *          should be retried later.  The resolved image may be either an\n *          Image or a Canvas DOM object.\n */\n\n\nGridImageryProvider.prototype.requestImage = function (x, y, level, request) {\n  return this._canvas;\n};\n/**\n * Picking features is not currently supported by this imagery provider, so this function simply returns\n * undefined.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Number} longitude The longitude at which to pick features.\n * @param {Number} latitude  The latitude at which to pick features.\n * @return {Promise.<ImageryLayerFeatureInfo[]>|undefined} A promise for the picked features that will resolve when the asynchronous\n *                   picking completes.  The resolved value is an array of {@link ImageryLayerFeatureInfo}\n *                   instances.  The array may be empty if no features are found at the given location.\n *                   It may also be undefined if picking is not supported.\n */\n\n\nGridImageryProvider.prototype.pickFeatures = function (x, y, level, longitude, latitude) {\n  return undefined;\n};\n\nexport default GridImageryProvider;","map":{"version":3,"sources":["/home/usuario/davi/thalamus/wms/3dmaptestes/leaflet_cesium/client/node_modules/cesium/Source/Scene/GridImageryProvider.js"],"names":["Color","defaultValue","defined","Event","GeographicTilingScheme","when","defaultColor","defaultGlowColor","defaultBackgroundColor","GridImageryProvider","options","EMPTY_OBJECT","defaultAlpha","undefined","defaultNightAlpha","defaultDayAlpha","defaultBrightness","defaultContrast","defaultHue","defaultSaturation","defaultGamma","defaultMinificationFilter","defaultMagnificationFilter","_tilingScheme","tilingScheme","ellipsoid","_cells","cells","_color","color","_glowColor","glowColor","_glowWidth","glowWidth","_backgroundColor","backgroundColor","_errorEvent","_tileWidth","tileWidth","_tileHeight","tileHeight","_canvasSize","canvasSize","_canvas","_createGridCanvas","_readyPromise","resolve","Object","defineProperties","prototype","proxy","get","maximumLevel","minimumLevel","rectangle","tileDiscardPolicy","errorEvent","ready","readyPromise","credit","hasAlphaChannel","_drawGrid","context","minPixel","maxPixel","x","nx","val","moveTo","lineTo","stroke","canvas","document","createElement","width","height","getContext","cssBackgroundColor","toCssColorString","fillStyle","fillRect","cssGlowColor","strokeStyle","lineWidth","strokeRect","cssColor","getTileCredits","y","level","requestImage","request","pickFeatures","longitude","latitude"],"mappings":"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","sourcesContent":["import Color from \"../Core/Color.js\";\nimport defaultValue from \"../Core/defaultValue.js\";\nimport defined from \"../Core/defined.js\";\nimport Event from \"../Core/Event.js\";\nimport GeographicTilingScheme from \"../Core/GeographicTilingScheme.js\";\nimport when from \"../ThirdParty/when.js\";\n\nvar defaultColor = new Color(1.0, 1.0, 1.0, 0.4);\nvar defaultGlowColor = new Color(0.0, 1.0, 0.0, 0.05);\nvar defaultBackgroundColor = new Color(0.0, 0.5, 0.0, 0.2);\n\n/**\n * @typedef {Object} GridImageryProvider.ConstructorOptions\n *\n * Initialization options for the GridImageryProvider constructor\n *\n * @property {TilingScheme} [tilingScheme=new GeographicTilingScheme()] The tiling scheme for which to draw tiles.\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If the tilingScheme is specified,\n *                    this parameter is ignored and the tiling scheme's ellipsoid is used instead. If neither\n *                    parameter is specified, the WGS84 ellipsoid is used.\n * @property {Number} [cells=8] The number of grids cells.\n * @property {Color} [color=Color(1.0, 1.0, 1.0, 0.4)] The color to draw grid lines.\n * @property {Color} [glowColor=Color(0.0, 1.0, 0.0, 0.05)] The color to draw glow for grid lines.\n * @property {Number} [glowWidth=6] The width of lines used for rendering the line glow effect.\n * @property {Color} [backgroundColor=Color(0.0, 0.5, 0.0, 0.2)] Background fill color.\n * @property {Number} [tileWidth=256] The width of the tile for level-of-detail selection purposes.\n * @property {Number} [tileHeight=256] The height of the tile for level-of-detail selection purposes.\n * @property {Number} [canvasSize=256] The size of the canvas used for rendering.\n */\n\n/**\n * An {@link ImageryProvider} that draws a wireframe grid on every tile with controllable background and glow.\n * May be useful for custom rendering effects or debugging terrain.\n *\n * @alias GridImageryProvider\n * @constructor\n * @param {GridImageryProvider.ConstructorOptions} options Object describing initialization options\n *\n */\nfunction GridImageryProvider(options) {\n  options = defaultValue(options, defaultValue.EMPTY_OBJECT);\n\n  /**\n   * The default alpha blending value of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the night side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultNightAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the day side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultDayAlpha = undefined;\n\n  /**\n   * The default brightness of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0\n   * makes the imagery darker while greater than 1.0 makes it brighter.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultBrightness = undefined;\n\n  /**\n   * The default contrast of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0 reduces\n   * the contrast while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultContrast = undefined;\n\n  /**\n   * The default hue of this provider in radians. 0.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultHue = undefined;\n\n  /**\n   * The default saturation of this provider. 1.0 uses the unmodified imagery color. Less than 1.0 reduces the\n   * saturation while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultSaturation = undefined;\n\n  /**\n   * The default gamma correction to apply to this provider.  1.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultGamma = undefined;\n\n  /**\n   * The default texture minification filter to apply to this provider.\n   *\n   * @type {TextureMinificationFilter}\n   * @default undefined\n   */\n  this.defaultMinificationFilter = undefined;\n\n  /**\n   * The default texture magnification filter to apply to this provider.\n   *\n   * @type {TextureMagnificationFilter}\n   * @default undefined\n   */\n  this.defaultMagnificationFilter = undefined;\n\n  this._tilingScheme = defined(options.tilingScheme)\n    ? options.tilingScheme\n    : new GeographicTilingScheme({ ellipsoid: options.ellipsoid });\n  this._cells = defaultValue(options.cells, 8);\n  this._color = defaultValue(options.color, defaultColor);\n  this._glowColor = defaultValue(options.glowColor, defaultGlowColor);\n  this._glowWidth = defaultValue(options.glowWidth, 6);\n  this._backgroundColor = defaultValue(\n    options.backgroundColor,\n    defaultBackgroundColor\n  );\n  this._errorEvent = new Event();\n\n  this._tileWidth = defaultValue(options.tileWidth, 256);\n  this._tileHeight = defaultValue(options.tileHeight, 256);\n\n  // A little larger than tile size so lines are sharper\n  // Note: can't be too much difference otherwise texture blowout\n  this._canvasSize = defaultValue(options.canvasSize, 256);\n\n  // We only need a single canvas since all tiles will be the same\n  this._canvas = this._createGridCanvas();\n\n  this._readyPromise = when.resolve(true);\n}\n\nObject.defineProperties(GridImageryProvider.prototype, {\n  /**\n   * Gets the proxy used by this provider.\n   * @memberof GridImageryProvider.prototype\n   * @type {Proxy}\n   * @readonly\n   */\n  proxy: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets the width of each tile, in pixels. This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileWidth: {\n    get: function () {\n      return this._tileWidth;\n    },\n  },\n\n  /**\n   * Gets the height of each tile, in pixels.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileHeight: {\n    get: function () {\n      return this._tileHeight;\n    },\n  },\n\n  /**\n   * Gets the maximum level-of-detail that can be requested.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number|undefined}\n   * @readonly\n   */\n  maximumLevel: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets the minimum level-of-detail that can be requested.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  minimumLevel: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets the tiling scheme used by this provider.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {TilingScheme}\n   * @readonly\n   */\n  tilingScheme: {\n    get: function () {\n      return this._tilingScheme;\n    },\n  },\n\n  /**\n   * Gets the rectangle, in radians, of the imagery provided by this instance.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Rectangle}\n   * @readonly\n   */\n  rectangle: {\n    get: function () {\n      return this._tilingScheme.rectangle;\n    },\n  },\n\n  /**\n   * Gets the tile discard policy.  If not undefined, the discard policy is responsible\n   * for filtering out \"missing\" tiles via its shouldDiscardImage function.  If this function\n   * returns undefined, no tiles are filtered.  This function should\n   * not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {TileDiscardPolicy}\n   * @readonly\n   */\n  tileDiscardPolicy: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets an event that is raised when the imagery provider encounters an asynchronous error.  By subscribing\n   * to the event, you will be notified of the error and can potentially recover from it.  Event listeners\n   * are passed an instance of {@link TileProviderError}.\n   * @memberof GridImageryProvider.prototype\n   * @type {Event}\n   * @readonly\n   */\n  errorEvent: {\n    get: function () {\n      return this._errorEvent;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the provider is ready for use.\n   * @memberof GridImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  ready: {\n    get: function () {\n      return true;\n    },\n  },\n\n  /**\n   * Gets a promise that resolves to true when the provider is ready for use.\n   * @memberof GridImageryProvider.prototype\n   * @type {Promise.<Boolean>}\n   * @readonly\n   */\n  readyPromise: {\n    get: function () {\n      return this._readyPromise;\n    },\n  },\n\n  /**\n   * Gets the credit to display when this imagery provider is active.  Typically this is used to credit\n   * the source of the imagery.  This function should not be called before {@link GridImageryProvider#ready} returns true.\n   * @memberof GridImageryProvider.prototype\n   * @type {Credit}\n   * @readonly\n   */\n  credit: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the images provided by this imagery provider\n   * include an alpha channel.  If this property is false, an alpha channel, if present, will\n   * be ignored.  If this property is true, any images without an alpha channel will be treated\n   * as if their alpha is 1.0 everywhere.  When this property is false, memory usage\n   * and texture upload time are reduced.\n   * @memberof GridImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  hasAlphaChannel: {\n    get: function () {\n      return true;\n    },\n  },\n});\n\n/**\n * Draws a grid of lines into a canvas.\n */\nGridImageryProvider.prototype._drawGrid = function (context) {\n  var minPixel = 0;\n  var maxPixel = this._canvasSize;\n  for (var x = 0; x <= this._cells; ++x) {\n    var nx = x / this._cells;\n    var val = 1 + nx * (maxPixel - 1);\n\n    context.moveTo(val, minPixel);\n    context.lineTo(val, maxPixel);\n    context.moveTo(minPixel, val);\n    context.lineTo(maxPixel, val);\n  }\n  context.stroke();\n};\n\n/**\n * Render a grid into a canvas with background and glow\n */\nGridImageryProvider.prototype._createGridCanvas = function () {\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = this._canvasSize;\n  canvas.height = this._canvasSize;\n  var minPixel = 0;\n  var maxPixel = this._canvasSize;\n\n  var context = canvas.getContext(\"2d\");\n\n  // Fill the background\n  var cssBackgroundColor = this._backgroundColor.toCssColorString();\n  context.fillStyle = cssBackgroundColor;\n  context.fillRect(minPixel, minPixel, maxPixel, maxPixel);\n\n  // Glow for grid lines\n  var cssGlowColor = this._glowColor.toCssColorString();\n  context.strokeStyle = cssGlowColor;\n  // Wide\n  context.lineWidth = this._glowWidth;\n  context.strokeRect(minPixel, minPixel, maxPixel, maxPixel);\n  this._drawGrid(context);\n  // Narrow\n  context.lineWidth = this._glowWidth * 0.5;\n  context.strokeRect(minPixel, minPixel, maxPixel, maxPixel);\n  this._drawGrid(context);\n\n  // Grid lines\n  var cssColor = this._color.toCssColorString();\n  // Border\n  context.strokeStyle = cssColor;\n  context.lineWidth = 2;\n  context.strokeRect(minPixel, minPixel, maxPixel, maxPixel);\n  // Inner\n  context.lineWidth = 1;\n  this._drawGrid(context);\n\n  return canvas;\n};\n\n/**\n * Gets the credits to be displayed when a given tile is displayed.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level;\n * @returns {Credit[]} The credits to be displayed when the tile is displayed.\n *\n * @exception {DeveloperError} <code>getTileCredits</code> must not be called before the imagery provider is ready.\n */\nGridImageryProvider.prototype.getTileCredits = function (x, y, level) {\n  return undefined;\n};\n\n/**\n * Requests the image for a given tile.  This function should\n * not be called before {@link GridImageryProvider#ready} returns true.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n * @returns {Promise.<HTMLImageElement|HTMLCanvasElement>|undefined} A promise for the image that will resolve when the image is available, or\n *          undefined if there are too many active requests to the server, and the request\n *          should be retried later.  The resolved image may be either an\n *          Image or a Canvas DOM object.\n */\nGridImageryProvider.prototype.requestImage = function (x, y, level, request) {\n  return this._canvas;\n};\n\n/**\n * Picking features is not currently supported by this imagery provider, so this function simply returns\n * undefined.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Number} longitude The longitude at which to pick features.\n * @param {Number} latitude  The latitude at which to pick features.\n * @return {Promise.<ImageryLayerFeatureInfo[]>|undefined} A promise for the picked features that will resolve when the asynchronous\n *                   picking completes.  The resolved value is an array of {@link ImageryLayerFeatureInfo}\n *                   instances.  The array may be empty if no features are found at the given location.\n *                   It may also be undefined if picking is not supported.\n */\nGridImageryProvider.prototype.pickFeatures = function (\n  x,\n  y,\n  level,\n  longitude,\n  latitude\n) {\n  return undefined;\n};\nexport default GridImageryProvider;\n"]},"metadata":{},"sourceType":"module"}