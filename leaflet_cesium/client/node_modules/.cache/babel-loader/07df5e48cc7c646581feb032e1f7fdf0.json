{"ast":null,"code":"import Color from \"../../Core/Color.js\";\nimport defined from \"../../Core/defined.js\";\nimport destroyObject from \"../../Core/destroyObject.js\";\nimport DeveloperError from \"../../Core/DeveloperError.js\";\nimport getElement from \"../getElement.js\";\nimport subscribeAndEvaluate from \"../subscribeAndEvaluate.js\";\nvar svgNS = \"http://www.w3.org/2000/svg\";\nvar xlinkNS = \"http://www.w3.org/1999/xlink\";\nvar widgetForDrag;\nvar gradientEnabledColor0 = Color.fromCssColorString(\"rgba(247,250,255,0.384)\");\nvar gradientEnabledColor1 = Color.fromCssColorString(\"rgba(143,191,255,0.216)\");\nvar gradientEnabledColor2 = Color.fromCssColorString(\"rgba(153,197,255,0.098)\");\nvar gradientEnabledColor3 = Color.fromCssColorString(\"rgba(255,255,255,0.086)\");\nvar gradientDisabledColor0 = Color.fromCssColorString(\"rgba(255,255,255,0.267)\");\nvar gradientDisabledColor1 = Color.fromCssColorString(\"rgba(255,255,255,0)\");\nvar gradientKnobColor = Color.fromCssColorString(\"rgba(66,67,68,0.3)\");\nvar gradientPointerColor = Color.fromCssColorString(\"rgba(0,0,0,0.5)\");\n\nfunction getElementColor(element) {\n  return Color.fromCssColorString(window.getComputedStyle(element).getPropertyValue(\"color\"));\n}\n\nvar svgIconsById = {\n  animation_pathReset: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M24.316,5.318,9.833,13.682,9.833,5.5,5.5,5.5,5.5,25.5,9.833,25.5,9.833,17.318,24.316,25.682z\"\n  },\n  animation_pathPause: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M13,5.5,7.5,5.5,7.5,25.5,13,25.5zM24.5,5.5,19,5.5,19,25.5,24.5,25.5z\"\n  },\n  animation_pathPlay: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\"\n  },\n  animation_pathPlayReverse: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(-0.85,0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\"\n  },\n  animation_pathLoop: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M24.249,15.499c-0.009,4.832-3.918,8.741-8.75,8.75c-2.515,0-4.768-1.064-6.365-2.763l2.068-1.442l-7.901-3.703l0.744,8.694l2.193-1.529c2.244,2.594,5.562,4.242,9.26,4.242c6.767,0,12.249-5.482,12.249-12.249H24.249zM15.499,6.75c2.516,0,4.769,1.065,6.367,2.764l-2.068,1.443l7.901,3.701l-0.746-8.693l-2.192,1.529c-2.245-2.594-5.562-4.245-9.262-4.245C8.734,3.25,3.25,8.734,3.249,15.499H6.75C6.758,10.668,10.668,6.758,15.499,6.75z\"\n  },\n  animation_pathClock: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-15.5)\",\n    d: \"M15.5,2.374C8.251,2.375,2.376,8.251,2.374,15.5C2.376,22.748,8.251,28.623,15.5,28.627c7.249-0.004,13.124-5.879,13.125-13.127C28.624,8.251,22.749,2.375,15.5,2.374zM15.5,25.623C9.909,25.615,5.385,21.09,5.375,15.5C5.385,9.909,9.909,5.384,15.5,5.374c5.59,0.01,10.115,4.535,10.124,10.125C25.615,21.09,21.091,25.615,15.5,25.623zM8.625,15.5c-0.001-0.552-0.448-0.999-1.001-1c-0.553,0-1,0.448-1,1c0,0.553,0.449,1,1,1C8.176,16.5,8.624,16.053,8.625,15.5zM8.179,18.572c-0.478,0.277-0.642,0.889-0.365,1.367c0.275,0.479,0.889,0.641,1.365,0.365c0.479-0.275,0.643-0.887,0.367-1.367C9.27,18.461,8.658,18.297,8.179,18.572zM9.18,10.696c-0.479-0.276-1.09-0.112-1.366,0.366s-0.111,1.09,0.365,1.366c0.479,0.276,1.09,0.113,1.367-0.366C9.821,11.584,9.657,10.973,9.18,10.696zM22.822,12.428c0.478-0.275,0.643-0.888,0.366-1.366c-0.275-0.478-0.89-0.642-1.366-0.366c-0.479,0.278-0.642,0.89-0.366,1.367C21.732,12.54,22.344,12.705,22.822,12.428zM12.062,21.455c-0.478-0.275-1.089-0.111-1.366,0.367c-0.275,0.479-0.111,1.09,0.366,1.365c0.478,0.277,1.091,0.111,1.365-0.365C12.704,22.344,12.54,21.732,12.062,21.455zM12.062,9.545c0.479-0.276,0.642-0.888,0.366-1.366c-0.276-0.478-0.888-0.642-1.366-0.366s-0.642,0.888-0.366,1.366C10.973,9.658,11.584,9.822,12.062,9.545zM22.823,18.572c-0.48-0.275-1.092-0.111-1.367,0.365c-0.275,0.479-0.112,1.092,0.367,1.367c0.477,0.275,1.089,0.113,1.365-0.365C23.464,19.461,23.3,18.848,22.823,18.572zM19.938,7.813c-0.477-0.276-1.091-0.111-1.365,0.366c-0.275,0.48-0.111,1.091,0.366,1.367s1.089,0.112,1.366-0.366C20.581,8.702,20.418,8.089,19.938,7.813zM23.378,14.5c-0.554,0.002-1.001,0.45-1.001,1c0.001,0.552,0.448,1,1.001,1c0.551,0,1-0.447,1-1C24.378,14.949,23.929,14.5,23.378,14.5zM15.501,6.624c-0.552,0-1,0.448-1,1l-0.466,7.343l-3.004,1.96c-0.478,0.277-0.642,0.889-0.365,1.365c0.275,0.479,0.889,0.643,1.365,0.367l3.305-1.676C15.39,16.99,15.444,17,15.501,17c0.828,0,1.5-0.671,1.5-1.5l-0.5-7.876C16.501,7.072,16.053,6.624,15.501,6.624zM15.501,22.377c-0.552,0-1,0.447-1,1s0.448,1,1,1s1-0.447,1-1S16.053,22.377,15.501,22.377zM18.939,21.455c-0.479,0.277-0.643,0.889-0.366,1.367c0.275,0.477,0.888,0.643,1.366,0.365c0.478-0.275,0.642-0.889,0.366-1.365C20.028,21.344,19.417,21.18,18.939,21.455z\"\n  },\n  animation_pathWingButton: {\n    tagName: \"path\",\n    d: \"m 4.5,0.5 c -2.216,0 -4,1.784 -4,4 l 0,24 c 0,2.216 1.784,4 4,4 l 13.71875,0 C 22.478584,27.272785 27.273681,22.511272 32.5,18.25 l 0,-13.75 c 0,-2.216 -1.784,-4 -4,-4 l -24,0 z\"\n  },\n  animation_pathPointer: {\n    tagName: \"path\",\n    d: \"M-15,-65,-15,-55,15,-55,15,-65,0,-95z\"\n  },\n  animation_pathSwooshFX: {\n    tagName: \"path\",\n    d: \"m 85,0 c 0,16.617 -4.813944,35.356 -13.131081,48.4508 h 6.099803 c 8.317138,-13.0948 13.13322,-28.5955 13.13322,-45.2124 0,-46.94483 -38.402714,-85.00262 -85.7743869,-85.00262 -1.0218522,0 -2.0373001,0.0241 -3.0506131,0.0589 45.958443,1.59437 82.723058,35.77285 82.723058,81.70532 z\"\n  }\n}; //Dynamically builds an SVG element from a JSON object.\n\nfunction svgFromObject(obj) {\n  var ele = document.createElementNS(svgNS, obj.tagName);\n\n  for (var field in obj) {\n    if (obj.hasOwnProperty(field) && field !== \"tagName\") {\n      if (field === \"children\") {\n        var i;\n        var len = obj.children.length;\n\n        for (i = 0; i < len; ++i) {\n          ele.appendChild(svgFromObject(obj.children[i]));\n        }\n      } else if (field.indexOf(\"xlink:\") === 0) {\n        ele.setAttributeNS(xlinkNS, field.substring(6), obj[field]);\n      } else if (field === \"textContent\") {\n        ele.textContent = obj[field];\n      } else {\n        ele.setAttribute(field, obj[field]);\n      }\n    }\n  }\n\n  return ele;\n}\n\nfunction svgText(x, y, msg) {\n  var text = document.createElementNS(svgNS, \"text\");\n  text.setAttribute(\"x\", x);\n  text.setAttribute(\"y\", y);\n  text.setAttribute(\"class\", \"cesium-animation-svgText\");\n  var tspan = document.createElementNS(svgNS, \"tspan\");\n  tspan.textContent = msg;\n  text.appendChild(tspan);\n  return text;\n}\n\nfunction setShuttleRingPointer(shuttleRingPointer, knobOuter, angle) {\n  shuttleRingPointer.setAttribute(\"transform\", \"translate(100,100) rotate(\" + angle + \")\");\n  knobOuter.setAttribute(\"transform\", \"rotate(\" + angle + \")\");\n}\n\nvar makeColorStringScratch = new Color();\n\nfunction makeColorString(background, gradient) {\n  var gradientAlpha = gradient.alpha;\n  var backgroundAlpha = 1.0 - gradientAlpha;\n  makeColorStringScratch.red = background.red * backgroundAlpha + gradient.red * gradientAlpha;\n  makeColorStringScratch.green = background.green * backgroundAlpha + gradient.green * gradientAlpha;\n  makeColorStringScratch.blue = background.blue * backgroundAlpha + gradient.blue * gradientAlpha;\n  return makeColorStringScratch.toCssColorString();\n}\n\nfunction rectButton(x, y, path) {\n  var iconInfo = svgIconsById[path];\n  var button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: \"translate(\" + x + \",\" + y + \")\",\n    children: [{\n      tagName: \"rect\",\n      class: \"cesium-animation-buttonGlow\",\n      width: 32,\n      height: 32,\n      rx: 2,\n      ry: 2\n    }, {\n      tagName: \"rect\",\n      class: \"cesium-animation-buttonMain\",\n      width: 32,\n      height: 32,\n      rx: 4,\n      ry: 4\n    }, {\n      class: \"cesium-animation-buttonPath\",\n      id: path,\n      tagName: iconInfo.tagName,\n      transform: iconInfo.transform,\n      d: iconInfo.d\n    }, {\n      tagName: \"title\",\n      textContent: \"\"\n    }]\n  };\n  return svgFromObject(button);\n}\n\nfunction wingButton(x, y, path) {\n  var buttonIconInfo = svgIconsById[path];\n  var wingIconInfo = svgIconsById[\"animation_pathWingButton\"];\n  var button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: \"translate(\" + x + \",\" + y + \")\",\n    children: [{\n      class: \"cesium-animation-buttonGlow\",\n      id: \"animation_pathWingButton\",\n      tagName: wingIconInfo.tagName,\n      d: wingIconInfo.d\n    }, {\n      class: \"cesium-animation-buttonMain\",\n      id: \"animation_pathWingButton\",\n      tagName: wingIconInfo.tagName,\n      d: wingIconInfo.d\n    }, {\n      class: \"cesium-animation-buttonPath\",\n      id: path,\n      tagName: buttonIconInfo.tagName,\n      transform: buttonIconInfo.transform,\n      d: buttonIconInfo.d\n    }, {\n      tagName: \"title\",\n      textContent: \"\"\n    }]\n  };\n  return svgFromObject(button);\n}\n\nfunction setShuttleRingFromMouseOrTouch(widget, e) {\n  var viewModel = widget._viewModel;\n  var shuttleRingDragging = viewModel.shuttleRingDragging;\n\n  if (shuttleRingDragging && widgetForDrag !== widget) {\n    return;\n  }\n\n  if (e.type === \"mousedown\" || shuttleRingDragging && e.type === \"mousemove\" || e.type === \"touchstart\" && e.touches.length === 1 || shuttleRingDragging && e.type === \"touchmove\" && e.touches.length === 1) {\n    var centerX = widget._centerX;\n    var centerY = widget._centerY;\n    var svg = widget._svgNode;\n    var rect = svg.getBoundingClientRect();\n    var clientX;\n    var clientY;\n\n    if (e.type === \"touchstart\" || e.type === \"touchmove\") {\n      clientX = e.touches[0].clientX;\n      clientY = e.touches[0].clientY;\n    } else {\n      clientX = e.clientX;\n      clientY = e.clientY;\n    }\n\n    if (!shuttleRingDragging && (clientX > rect.right || clientX < rect.left || clientY < rect.top || clientY > rect.bottom)) {\n      return;\n    }\n\n    var pointerRect = widget._shuttleRingPointer.getBoundingClientRect();\n\n    var x = clientX - centerX - rect.left;\n    var y = clientY - centerY - rect.top;\n    var angle = Math.atan2(y, x) * 180 / Math.PI + 90;\n\n    if (angle > 180) {\n      angle -= 360;\n    }\n\n    var shuttleRingAngle = viewModel.shuttleRingAngle;\n\n    if (shuttleRingDragging || clientX < pointerRect.right && clientX > pointerRect.left && clientY > pointerRect.top && clientY < pointerRect.bottom) {\n      widgetForDrag = widget;\n      viewModel.shuttleRingDragging = true;\n      viewModel.shuttleRingAngle = angle;\n    } else if (angle < shuttleRingAngle) {\n      viewModel.slower();\n    } else if (angle > shuttleRingAngle) {\n      viewModel.faster();\n    }\n\n    e.preventDefault();\n  } else {\n    if (widget === widgetForDrag) {\n      widgetForDrag = undefined;\n    }\n\n    viewModel.shuttleRingDragging = false;\n  }\n} //This is a private class for treating an SVG element like a button.\n//If we ever need a general purpose SVG button, we can make this generic.\n\n\nfunction SvgButton(svgElement, viewModel) {\n  this._viewModel = viewModel;\n  this.svgElement = svgElement;\n  this._enabled = undefined;\n  this._toggled = undefined;\n  var that = this;\n\n  this._clickFunction = function () {\n    var command = that._viewModel.command;\n\n    if (command.canExecute) {\n      command();\n    }\n  };\n\n  svgElement.addEventListener(\"click\", this._clickFunction, true); //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  this._subscriptions = [//\n  subscribeAndEvaluate(viewModel, \"toggled\", this.setToggled, this), //\n  subscribeAndEvaluate(viewModel, \"tooltip\", this.setTooltip, this), //\n  subscribeAndEvaluate(viewModel.command, \"canExecute\", this.setEnabled, this)];\n}\n\nSvgButton.prototype.destroy = function () {\n  this.svgElement.removeEventListener(\"click\", this._clickFunction, true);\n  var subscriptions = this._subscriptions;\n\n  for (var i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n\n  destroyObject(this);\n};\n\nSvgButton.prototype.isDestroyed = function () {\n  return false;\n};\n\nSvgButton.prototype.setEnabled = function (enabled) {\n  if (this._enabled !== enabled) {\n    this._enabled = enabled;\n\n    if (!enabled) {\n      this.svgElement.setAttribute(\"class\", \"cesium-animation-buttonDisabled\");\n      return;\n    }\n\n    if (this._toggled) {\n      this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton cesium-animation-buttonToggled\");\n      return;\n    }\n\n    this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n  }\n};\n\nSvgButton.prototype.setToggled = function (toggled) {\n  if (this._toggled !== toggled) {\n    this._toggled = toggled;\n\n    if (this._enabled) {\n      if (toggled) {\n        this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton cesium-animation-buttonToggled\");\n      } else {\n        this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n      }\n    }\n  }\n};\n\nSvgButton.prototype.setTooltip = function (tooltip) {\n  this.svgElement.getElementsByTagName(\"title\")[0].textContent = tooltip;\n};\n/**\n * <span style=\"display: block; text-align: center;\">\n * <img src=\"Images/AnimationWidget.png\" width=\"211\" height=\"142\" alt=\"\" />\n * <br />Animation widget\n * </span>\n * <br /><br />\n * The Animation widget provides buttons for play, pause, and reverse, along with the\n * current time and date, surrounded by a \"shuttle ring\" for controlling the speed of animation.\n * <br /><br />\n * The \"shuttle ring\" concept is borrowed from video editing, where typically a\n * \"jog wheel\" can be rotated to move past individual animation frames very slowly, and\n * a surrounding shuttle ring can be twisted to control direction and speed of fast playback.\n * Cesium typically treats time as continuous (not broken into pre-defined animation frames),\n * so this widget offers no jog wheel.  Instead, the shuttle ring is capable of both fast and\n * very slow playback.  Click and drag the shuttle ring pointer itself (shown above in green),\n * or click in the rest of the ring area to nudge the pointer to the next preset speed in that direction.\n * <br /><br />\n * The Animation widget also provides a \"realtime\" button (in the upper-left) that keeps\n * animation time in sync with the end user's system clock, typically displaying\n * \"today\" or \"right now.\"  This mode is not available in {@link ClockRange.CLAMPED} or\n * {@link ClockRange.LOOP_STOP} mode if the current time is outside of {@link Clock}'s startTime and endTime.\n *\n * @alias Animation\n * @constructor\n *\n * @param {Element|String} container The DOM element or ID that will contain the widget.\n * @param {AnimationViewModel} viewModel The view model used by this widget.\n *\n * @exception {DeveloperError} Element with id \"container\" does not exist in the document.\n *\n *\n * @example\n * // In HTML head, include a link to Animation.css stylesheet,\n * // and in the body, include: <div id=\"animationContainer\"></div>\n *\n * var clock = new Cesium.Clock();\n * var clockViewModel = new Cesium.ClockViewModel(clock);\n * var viewModel = new Cesium.AnimationViewModel(clockViewModel);\n * var widget = new Cesium.Animation('animationContainer', viewModel);\n *\n * function tick() {\n *     clock.tick();\n *     Cesium.requestAnimationFrame(tick);\n * }\n * Cesium.requestAnimationFrame(tick);\n *\n * @see AnimationViewModel\n * @see Clock\n */\n\n\nfunction Animation(container, viewModel) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(container)) {\n    throw new DeveloperError(\"container is required.\");\n  }\n\n  if (!defined(viewModel)) {\n    throw new DeveloperError(\"viewModel is required.\");\n  } //>>includeEnd('debug');\n\n\n  container = getElement(container);\n  this._viewModel = viewModel;\n  this._container = container;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._defsElement = undefined;\n  this._svgNode = undefined;\n  this._topG = undefined;\n  this._lastHeight = undefined;\n  this._lastWidth = undefined;\n  var ownerDocument = container.ownerDocument; // Firefox requires SVG references to be included directly, not imported from external CSS.\n  // Also, CSS minifiers get confused by this being in an external CSS file.\n\n  var cssStyle = document.createElement(\"style\");\n  cssStyle.textContent = \".cesium-animation-rectButton .cesium-animation-buttonGlow { filter: url(#animation_blurred); }\\\n.cesium-animation-rectButton .cesium-animation-buttonMain { fill: url(#animation_buttonNormal); }\\\n.cesium-animation-buttonToggled .cesium-animation-buttonMain { fill: url(#animation_buttonToggled); }\\\n.cesium-animation-rectButton:hover .cesium-animation-buttonMain { fill: url(#animation_buttonHovered); }\\\n.cesium-animation-buttonDisabled .cesium-animation-buttonMain { fill: url(#animation_buttonDisabled); }\\\n.cesium-animation-shuttleRingG .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshGradient); }\\\n.cesium-animation-shuttleRingG:hover .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshHovered); }\\\n.cesium-animation-shuttleRingPointer { fill: url(#animation_shuttleRingPointerGradient); }\\\n.cesium-animation-shuttleRingPausePointer { fill: url(#animation_shuttleRingPointerPaused); }\\\n.cesium-animation-knobOuter { fill: url(#animation_knobOuter); }\\\n.cesium-animation-knobInner { fill: url(#animation_knobInner); }\";\n  ownerDocument.head.insertBefore(cssStyle, ownerDocument.head.childNodes[0]);\n  var themeEle = document.createElement(\"div\");\n  themeEle.className = \"cesium-animation-theme\";\n  themeEle.innerHTML = '<div class=\"cesium-animation-themeNormal\"></div>\\\n<div class=\"cesium-animation-themeHover\"></div>\\\n<div class=\"cesium-animation-themeSelect\"></div>\\\n<div class=\"cesium-animation-themeDisabled\"></div>\\\n<div class=\"cesium-animation-themeKnob\"></div>\\\n<div class=\"cesium-animation-themePointer\"></div>\\\n<div class=\"cesium-animation-themeSwoosh\"></div>\\\n<div class=\"cesium-animation-themeSwooshHover\"></div>';\n  this._theme = themeEle;\n  this._themeNormal = themeEle.childNodes[0];\n  this._themeHover = themeEle.childNodes[1];\n  this._themeSelect = themeEle.childNodes[2];\n  this._themeDisabled = themeEle.childNodes[3];\n  this._themeKnob = themeEle.childNodes[4];\n  this._themePointer = themeEle.childNodes[5];\n  this._themeSwoosh = themeEle.childNodes[6];\n  this._themeSwooshHover = themeEle.childNodes[7];\n  var svg = document.createElementNS(svgNS, \"svg:svg\");\n  this._svgNode = svg; // Define the XLink namespace that SVG uses\n\n  svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", xlinkNS);\n  var topG = document.createElementNS(svgNS, \"g\");\n  this._topG = topG;\n  this._realtimeSVG = new SvgButton(wingButton(3, 4, \"animation_pathClock\"), viewModel.playRealtimeViewModel);\n  this._playReverseSVG = new SvgButton(rectButton(44, 99, \"animation_pathPlayReverse\"), viewModel.playReverseViewModel);\n  this._playForwardSVG = new SvgButton(rectButton(124, 99, \"animation_pathPlay\"), viewModel.playForwardViewModel);\n  this._pauseSVG = new SvgButton(rectButton(84, 99, \"animation_pathPause\"), viewModel.pauseViewModel);\n  var buttonsG = document.createElementNS(svgNS, \"g\");\n  buttonsG.appendChild(this._realtimeSVG.svgElement);\n  buttonsG.appendChild(this._playReverseSVG.svgElement);\n  buttonsG.appendChild(this._playForwardSVG.svgElement);\n  buttonsG.appendChild(this._pauseSVG.svgElement);\n  var shuttleRingBackPanel = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-shuttleRingBack\",\n    cx: 100,\n    cy: 100,\n    r: 99\n  });\n  this._shuttleRingBackPanel = shuttleRingBackPanel;\n  var swooshIconInfo = svgIconsById[\"animation_pathSwooshFX\"];\n  var shuttleRingPointerIconInfo = svgIconsById[\"animation_pathPointer\"];\n  var shuttleRingSwooshG = svgFromObject({\n    tagName: \"g\",\n    class: \"cesium-animation-shuttleRingSwoosh\",\n    children: [{\n      tagName: swooshIconInfo.tagName,\n      transform: \"translate(100,97) scale(-1,1)\",\n      id: \"animation_pathSwooshFX\",\n      d: swooshIconInfo.d\n    }, {\n      tagName: swooshIconInfo.tagName,\n      transform: \"translate(100,97)\",\n      id: \"animation_pathSwooshFX\",\n      d: swooshIconInfo.d\n    }, {\n      tagName: \"line\",\n      x1: 100,\n      y1: 8,\n      x2: 100,\n      y2: 22\n    }]\n  });\n  this._shuttleRingSwooshG = shuttleRingSwooshG;\n  this._shuttleRingPointer = svgFromObject({\n    class: \"cesium-animation-shuttleRingPointer\",\n    id: \"animation_pathPointer\",\n    tagName: shuttleRingPointerIconInfo.tagName,\n    d: shuttleRingPointerIconInfo.d\n  });\n  var knobG = svgFromObject({\n    tagName: \"g\",\n    transform: \"translate(100,100)\"\n  });\n  this._knobOuter = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobOuter\",\n    cx: 0,\n    cy: 0,\n    r: 71\n  });\n  var knobInnerAndShieldSize = 61;\n  var knobInner = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobInner\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize\n  });\n  this._knobDate = svgText(0, -24, \"\");\n  this._knobTime = svgText(0, -7, \"\");\n  this._knobStatus = svgText(0, -41, \"\"); // widget shield catches clicks on the knob itself (even while DOM elements underneath are changing).\n\n  var knobShield = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-blank\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize\n  });\n  var shuttleRingBackG = document.createElementNS(svgNS, \"g\");\n  shuttleRingBackG.setAttribute(\"class\", \"cesium-animation-shuttleRingG\");\n  container.appendChild(themeEle);\n  topG.appendChild(shuttleRingBackG);\n  topG.appendChild(knobG);\n  topG.appendChild(buttonsG);\n  shuttleRingBackG.appendChild(shuttleRingBackPanel);\n  shuttleRingBackG.appendChild(shuttleRingSwooshG);\n  shuttleRingBackG.appendChild(this._shuttleRingPointer);\n  knobG.appendChild(this._knobOuter);\n  knobG.appendChild(knobInner);\n  knobG.appendChild(this._knobDate);\n  knobG.appendChild(this._knobTime);\n  knobG.appendChild(this._knobStatus);\n  knobG.appendChild(knobShield);\n  svg.appendChild(topG);\n  container.appendChild(svg);\n  var that = this;\n\n  function mouseCallback(e) {\n    setShuttleRingFromMouseOrTouch(that, e);\n  }\n\n  this._mouseCallback = mouseCallback;\n  shuttleRingBackPanel.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingBackPanel.addEventListener(\"touchstart\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"touchstart\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mousemove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchmove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mouseup\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchend\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchcancel\", mouseCallback, true);\n\n  this._shuttleRingPointer.addEventListener(\"mousedown\", mouseCallback, true);\n\n  this._shuttleRingPointer.addEventListener(\"touchstart\", mouseCallback, true);\n\n  this._knobOuter.addEventListener(\"mousedown\", mouseCallback, true);\n\n  this._knobOuter.addEventListener(\"touchstart\", mouseCallback, true); //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n\n  var timeNode = this._knobTime.childNodes[0];\n  var dateNode = this._knobDate.childNodes[0];\n  var statusNode = this._knobStatus.childNodes[0];\n  var isPaused;\n  this._subscriptions = [//\n  subscribeAndEvaluate(viewModel.pauseViewModel, \"toggled\", function (value) {\n    if (isPaused !== value) {\n      isPaused = value;\n\n      if (isPaused) {\n        that._shuttleRingPointer.setAttribute(\"class\", \"cesium-animation-shuttleRingPausePointer\");\n      } else {\n        that._shuttleRingPointer.setAttribute(\"class\", \"cesium-animation-shuttleRingPointer\");\n      }\n    }\n  }), subscribeAndEvaluate(viewModel, \"shuttleRingAngle\", function (value) {\n    setShuttleRingPointer(that._shuttleRingPointer, that._knobOuter, value);\n  }), subscribeAndEvaluate(viewModel, \"dateLabel\", function (value) {\n    if (dateNode.textContent !== value) {\n      dateNode.textContent = value;\n    }\n  }), subscribeAndEvaluate(viewModel, \"timeLabel\", function (value) {\n    if (timeNode.textContent !== value) {\n      timeNode.textContent = value;\n    }\n  }), subscribeAndEvaluate(viewModel, \"multiplierLabel\", function (value) {\n    if (statusNode.textContent !== value) {\n      statusNode.textContent = value;\n    }\n  })];\n  this.applyThemeChanges();\n  this.resize();\n}\n\nObject.defineProperties(Animation.prototype, {\n  /**\n   * Gets the parent container.\n   *\n   * @memberof Animation.prototype\n   * @type {Element}\n   * @readonly\n   */\n  container: {\n    get: function () {\n      return this._container;\n    }\n  },\n\n  /**\n   * Gets the view model.\n   *\n   * @memberof Animation.prototype\n   * @type {AnimationViewModel}\n   * @readonly\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    }\n  }\n});\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\n\nAnimation.prototype.isDestroyed = function () {\n  return false;\n};\n/**\n * Destroys the animation widget.  Should be called if permanently\n * removing the widget from layout.\n */\n\n\nAnimation.prototype.destroy = function () {\n  if (defined(this._observer)) {\n    this._observer.disconnect();\n\n    this._observer = undefined;\n  }\n\n  var doc = this._container.ownerDocument;\n  var mouseCallback = this._mouseCallback;\n\n  this._shuttleRingBackPanel.removeEventListener(\"mousedown\", mouseCallback, true);\n\n  this._shuttleRingBackPanel.removeEventListener(\"touchstart\", mouseCallback, true);\n\n  this._shuttleRingSwooshG.removeEventListener(\"mousedown\", mouseCallback, true);\n\n  this._shuttleRingSwooshG.removeEventListener(\"touchstart\", mouseCallback, true);\n\n  doc.removeEventListener(\"mousemove\", mouseCallback, true);\n  doc.removeEventListener(\"touchmove\", mouseCallback, true);\n  doc.removeEventListener(\"mouseup\", mouseCallback, true);\n  doc.removeEventListener(\"touchend\", mouseCallback, true);\n  doc.removeEventListener(\"touchcancel\", mouseCallback, true);\n\n  this._shuttleRingPointer.removeEventListener(\"mousedown\", mouseCallback, true);\n\n  this._shuttleRingPointer.removeEventListener(\"touchstart\", mouseCallback, true);\n\n  this._knobOuter.removeEventListener(\"mousedown\", mouseCallback, true);\n\n  this._knobOuter.removeEventListener(\"touchstart\", mouseCallback, true);\n\n  this._container.removeChild(this._svgNode);\n\n  this._container.removeChild(this._theme);\n\n  this._realtimeSVG.destroy();\n\n  this._playReverseSVG.destroy();\n\n  this._playForwardSVG.destroy();\n\n  this._pauseSVG.destroy();\n\n  var subscriptions = this._subscriptions;\n\n  for (var i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n\n  return destroyObject(this);\n};\n/**\n * Resizes the widget to match the container size.\n * This function should be called whenever the container size is changed.\n */\n\n\nAnimation.prototype.resize = function () {\n  var parentWidth = this._container.clientWidth;\n  var parentHeight = this._container.clientHeight;\n\n  if (parentWidth === this._lastWidth && parentHeight === this._lastHeight) {\n    return;\n  }\n\n  var svg = this._svgNode; //The width and height as the SVG was originally drawn.\n\n  var baseWidth = 200;\n  var baseHeight = 132;\n  var width = parentWidth;\n  var height = parentHeight;\n\n  if (parentWidth === 0 && parentHeight === 0) {\n    width = baseWidth;\n    height = baseHeight;\n  } else if (parentWidth === 0) {\n    height = parentHeight;\n    width = baseWidth * (parentHeight / baseHeight);\n  } else if (parentHeight === 0) {\n    width = parentWidth;\n    height = baseHeight * (parentWidth / baseWidth);\n  }\n\n  var scaleX = width / baseWidth;\n  var scaleY = height / baseHeight;\n  svg.style.cssText = \"width: \" + width + \"px; height: \" + height + \"px; position: absolute; bottom: 0; left: 0; overflow: hidden;\";\n  svg.setAttribute(\"width\", width);\n  svg.setAttribute(\"height\", height);\n  svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n\n  this._topG.setAttribute(\"transform\", \"scale(\" + scaleX + \",\" + scaleY + \")\");\n\n  this._centerX = Math.max(1, 100.0 * scaleX);\n  this._centerY = Math.max(1, 100.0 * scaleY);\n  this._lastHeight = parentWidth;\n  this._lastWidth = parentHeight;\n};\n/**\n * Updates the widget to reflect any modified CSS rules for theming.\n *\n * @example\n * //Switch to the cesium-lighter theme.\n * document.body.className = 'cesium-lighter';\n * animation.applyThemeChanges();\n */\n\n\nAnimation.prototype.applyThemeChanges = function () {\n  // Since we rely on computed styles for themeing, we can't actually\n  // do anything if the container has not yet been added to the DOM.\n  // Set up an observer to be notified when it is added and apply\n  // the changes at that time.\n  var doc = this._container.ownerDocument;\n\n  if (!doc.body.contains(this._container)) {\n    if (defined(this._observer)) {\n      //Already listening.\n      return;\n    }\n\n    var that = this;\n    that._observer = new MutationObserver(function () {\n      if (doc.body.contains(that._container)) {\n        that._observer.disconnect();\n\n        that._observer = undefined;\n        that.applyThemeChanges();\n      }\n    });\n\n    that._observer.observe(doc, {\n      childList: true,\n      subtree: true\n    });\n\n    return;\n  }\n\n  var buttonNormalBackColor = getElementColor(this._themeNormal);\n  var buttonHoverBackColor = getElementColor(this._themeHover);\n  var buttonToggledBackColor = getElementColor(this._themeSelect);\n  var buttonDisabledBackColor = getElementColor(this._themeDisabled);\n  var knobBackColor = getElementColor(this._themeKnob);\n  var pointerColor = getElementColor(this._themePointer);\n  var swooshColor = getElementColor(this._themeSwoosh);\n  var swooshHoverColor = getElementColor(this._themeSwooshHover);\n  var defsElement = svgFromObject({\n    tagName: \"defs\",\n    children: [{\n      id: \"animation_buttonNormal\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [//add a 'stop-opacity' field to make translucent.\n      {\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"12%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor1)\n      }, {\n        tagName: \"stop\",\n        offset: \"46%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor2)\n      }, {\n        tagName: \"stop\",\n        offset: \"81%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor3)\n      }]\n    }, {\n      id: \"animation_buttonHovered\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"12%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor1)\n      }, {\n        tagName: \"stop\",\n        offset: \"46%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor2)\n      }, {\n        tagName: \"stop\",\n        offset: \"81%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor3)\n      }]\n    }, {\n      id: \"animation_buttonToggled\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"12%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor1)\n      }, {\n        tagName: \"stop\",\n        offset: \"46%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor2)\n      }, {\n        tagName: \"stop\",\n        offset: \"81%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor3)\n      }]\n    }, {\n      id: \"animation_buttonDisabled\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonDisabledBackColor, gradientDisabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"75%\",\n        \"stop-color\": makeColorString(buttonDisabledBackColor, gradientDisabledColor1)\n      }]\n    }, {\n      id: \"animation_blurred\",\n      tagName: \"filter\",\n      width: \"200%\",\n      height: \"200%\",\n      x: \"-50%\",\n      y: \"-50%\",\n      children: [{\n        tagName: \"feGaussianBlur\",\n        stdDeviation: 4,\n        in: \"SourceGraphic\"\n      }]\n    }, {\n      id: \"animation_shuttleRingSwooshGradient\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-opacity\": 0.2,\n        \"stop-color\": swooshColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-opacity\": 0.85,\n        \"stop-color\": swooshColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"95%\",\n        \"stop-opacity\": 0.05,\n        \"stop-color\": swooshColor.toCssColorString()\n      }]\n    }, {\n      id: \"animation_shuttleRingSwooshHovered\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-opacity\": 0.2,\n        \"stop-color\": swooshHoverColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-opacity\": 0.85,\n        \"stop-color\": swooshHoverColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"95%\",\n        \"stop-opacity\": 0.05,\n        \"stop-color\": swooshHoverColor.toCssColorString()\n      }]\n    }, {\n      id: \"animation_shuttleRingPointerGradient\",\n      tagName: \"linearGradient\",\n      x1: \"0%\",\n      y1: \"50%\",\n      x2: \"100%\",\n      y2: \"50%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": pointerColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"40%\",\n        \"stop-color\": pointerColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": makeColorString(pointerColor, gradientPointerColor)\n      }, {\n        tagName: \"stop\",\n        offset: \"100%\",\n        \"stop-color\": makeColorString(pointerColor, gradientPointerColor)\n      }]\n    }, {\n      id: \"animation_shuttleRingPointerPaused\",\n      tagName: \"linearGradient\",\n      x1: \"0%\",\n      y1: \"50%\",\n      x2: \"100%\",\n      y2: \"50%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": \"#CCC\"\n      }, {\n        tagName: \"stop\",\n        offset: \"40%\",\n        \"stop-color\": \"#CCC\"\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": \"#555\"\n      }, {\n        tagName: \"stop\",\n        offset: \"100%\",\n        \"stop-color\": \"#555\"\n      }]\n    }, {\n      id: \"animation_knobOuter\",\n      tagName: \"linearGradient\",\n      x1: \"20%\",\n      y1: \"0%\",\n      x2: \"90%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"5%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientKnobColor)\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor1)\n      }]\n    }, {\n      id: \"animation_knobInner\",\n      tagName: \"linearGradient\",\n      x1: \"20%\",\n      y1: \"0%\",\n      x2: \"90%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"5%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientKnobColor)\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor3)\n      }]\n    }]\n  });\n\n  if (!defined(this._defsElement)) {\n    this._svgNode.appendChild(defsElement);\n  } else {\n    this._svgNode.replaceChild(defsElement, this._defsElement);\n  }\n\n  this._defsElement = defsElement;\n};\n\nexport default Animation;","map":{"version":3,"sources":["/home/usuario/davi/thalamus/wms/3dmaptestes/leaflet_cesium/client/node_modules/cesium/Source/Widgets/Animation/Animation.js"],"names":["Color","defined","destroyObject","DeveloperError","getElement","subscribeAndEvaluate","svgNS","xlinkNS","widgetForDrag","gradientEnabledColor0","fromCssColorString","gradientEnabledColor1","gradientEnabledColor2","gradientEnabledColor3","gradientDisabledColor0","gradientDisabledColor1","gradientKnobColor","gradientPointerColor","getElementColor","element","window","getComputedStyle","getPropertyValue","svgIconsById","animation_pathReset","tagName","transform","d","animation_pathPause","animation_pathPlay","animation_pathPlayReverse","animation_pathLoop","animation_pathClock","animation_pathWingButton","animation_pathPointer","animation_pathSwooshFX","svgFromObject","obj","ele","document","createElementNS","field","hasOwnProperty","i","len","children","length","appendChild","indexOf","setAttributeNS","substring","textContent","setAttribute","svgText","x","y","msg","text","tspan","setShuttleRingPointer","shuttleRingPointer","knobOuter","angle","makeColorStringScratch","makeColorString","background","gradient","gradientAlpha","alpha","backgroundAlpha","red","green","blue","toCssColorString","rectButton","path","iconInfo","button","class","width","height","rx","ry","id","wingButton","buttonIconInfo","wingIconInfo","setShuttleRingFromMouseOrTouch","widget","e","viewModel","_viewModel","shuttleRingDragging","type","touches","centerX","_centerX","centerY","_centerY","svg","_svgNode","rect","getBoundingClientRect","clientX","clientY","right","left","top","bottom","pointerRect","_shuttleRingPointer","Math","atan2","PI","shuttleRingAngle","slower","faster","preventDefault","undefined","SvgButton","svgElement","_enabled","_toggled","that","_clickFunction","command","canExecute","addEventListener","_subscriptions","setToggled","setTooltip","setEnabled","prototype","destroy","removeEventListener","subscriptions","dispose","isDestroyed","enabled","toggled","tooltip","getElementsByTagName","Animation","container","_container","_defsElement","_topG","_lastHeight","_lastWidth","ownerDocument","cssStyle","createElement","head","insertBefore","childNodes","themeEle","className","innerHTML","_theme","_themeNormal","_themeHover","_themeSelect","_themeDisabled","_themeKnob","_themePointer","_themeSwoosh","_themeSwooshHover","topG","_realtimeSVG","playRealtimeViewModel","_playReverseSVG","playReverseViewModel","_playForwardSVG","playForwardViewModel","_pauseSVG","pauseViewModel","buttonsG","shuttleRingBackPanel","cx","cy","r","_shuttleRingBackPanel","swooshIconInfo","shuttleRingPointerIconInfo","shuttleRingSwooshG","x1","y1","x2","y2","_shuttleRingSwooshG","knobG","_knobOuter","knobInnerAndShieldSize","knobInner","_knobDate","_knobTime","_knobStatus","knobShield","shuttleRingBackG","mouseCallback","_mouseCallback","timeNode","dateNode","statusNode","isPaused","value","applyThemeChanges","resize","Object","defineProperties","get","_observer","disconnect","doc","removeChild","parentWidth","clientWidth","parentHeight","clientHeight","baseWidth","baseHeight","scaleX","scaleY","style","cssText","max","body","contains","MutationObserver","observe","childList","subtree","buttonNormalBackColor","buttonHoverBackColor","buttonToggledBackColor","buttonDisabledBackColor","knobBackColor","pointerColor","swooshColor","swooshHoverColor","defsElement","offset","stdDeviation","in","replaceChild"],"mappings":"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","sourcesContent":["import Color from \"../../Core/Color.js\";\nimport defined from \"../../Core/defined.js\";\nimport destroyObject from \"../../Core/destroyObject.js\";\nimport DeveloperError from \"../../Core/DeveloperError.js\";\nimport getElement from \"../getElement.js\";\nimport subscribeAndEvaluate from \"../subscribeAndEvaluate.js\";\n\nvar svgNS = \"http://www.w3.org/2000/svg\";\nvar xlinkNS = \"http://www.w3.org/1999/xlink\";\n\nvar widgetForDrag;\n\nvar gradientEnabledColor0 = Color.fromCssColorString(\"rgba(247,250,255,0.384)\");\nvar gradientEnabledColor1 = Color.fromCssColorString(\"rgba(143,191,255,0.216)\");\nvar gradientEnabledColor2 = Color.fromCssColorString(\"rgba(153,197,255,0.098)\");\nvar gradientEnabledColor3 = Color.fromCssColorString(\"rgba(255,255,255,0.086)\");\n\nvar gradientDisabledColor0 = Color.fromCssColorString(\n  \"rgba(255,255,255,0.267)\"\n);\nvar gradientDisabledColor1 = Color.fromCssColorString(\"rgba(255,255,255,0)\");\n\nvar gradientKnobColor = Color.fromCssColorString(\"rgba(66,67,68,0.3)\");\nvar gradientPointerColor = Color.fromCssColorString(\"rgba(0,0,0,0.5)\");\n\nfunction getElementColor(element) {\n  return Color.fromCssColorString(\n    window.getComputedStyle(element).getPropertyValue(\"color\")\n  );\n}\n\nvar svgIconsById = {\n  animation_pathReset: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d:\n      \"M24.316,5.318,9.833,13.682,9.833,5.5,5.5,5.5,5.5,25.5,9.833,25.5,9.833,17.318,24.316,25.682z\",\n  },\n  animation_pathPause: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M13,5.5,7.5,5.5,7.5,25.5,13,25.5zM24.5,5.5,19,5.5,19,25.5,24.5,25.5z\",\n  },\n  animation_pathPlay: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\",\n  },\n  animation_pathPlayReverse: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(-0.85,0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\",\n  },\n  animation_pathLoop: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d:\n      \"M24.249,15.499c-0.009,4.832-3.918,8.741-8.75,8.75c-2.515,0-4.768-1.064-6.365-2.763l2.068-1.442l-7.901-3.703l0.744,8.694l2.193-1.529c2.244,2.594,5.562,4.242,9.26,4.242c6.767,0,12.249-5.482,12.249-12.249H24.249zM15.499,6.75c2.516,0,4.769,1.065,6.367,2.764l-2.068,1.443l7.901,3.701l-0.746-8.693l-2.192,1.529c-2.245-2.594-5.562-4.245-9.262-4.245C8.734,3.25,3.25,8.734,3.249,15.499H6.75C6.758,10.668,10.668,6.758,15.499,6.75z\",\n  },\n  animation_pathClock: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-15.5)\",\n    d:\n      \"M15.5,2.374C8.251,2.375,2.376,8.251,2.374,15.5C2.376,22.748,8.251,28.623,15.5,28.627c7.249-0.004,13.124-5.879,13.125-13.127C28.624,8.251,22.749,2.375,15.5,2.374zM15.5,25.623C9.909,25.615,5.385,21.09,5.375,15.5C5.385,9.909,9.909,5.384,15.5,5.374c5.59,0.01,10.115,4.535,10.124,10.125C25.615,21.09,21.091,25.615,15.5,25.623zM8.625,15.5c-0.001-0.552-0.448-0.999-1.001-1c-0.553,0-1,0.448-1,1c0,0.553,0.449,1,1,1C8.176,16.5,8.624,16.053,8.625,15.5zM8.179,18.572c-0.478,0.277-0.642,0.889-0.365,1.367c0.275,0.479,0.889,0.641,1.365,0.365c0.479-0.275,0.643-0.887,0.367-1.367C9.27,18.461,8.658,18.297,8.179,18.572zM9.18,10.696c-0.479-0.276-1.09-0.112-1.366,0.366s-0.111,1.09,0.365,1.366c0.479,0.276,1.09,0.113,1.367-0.366C9.821,11.584,9.657,10.973,9.18,10.696zM22.822,12.428c0.478-0.275,0.643-0.888,0.366-1.366c-0.275-0.478-0.89-0.642-1.366-0.366c-0.479,0.278-0.642,0.89-0.366,1.367C21.732,12.54,22.344,12.705,22.822,12.428zM12.062,21.455c-0.478-0.275-1.089-0.111-1.366,0.367c-0.275,0.479-0.111,1.09,0.366,1.365c0.478,0.277,1.091,0.111,1.365-0.365C12.704,22.344,12.54,21.732,12.062,21.455zM12.062,9.545c0.479-0.276,0.642-0.888,0.366-1.366c-0.276-0.478-0.888-0.642-1.366-0.366s-0.642,0.888-0.366,1.366C10.973,9.658,11.584,9.822,12.062,9.545zM22.823,18.572c-0.48-0.275-1.092-0.111-1.367,0.365c-0.275,0.479-0.112,1.092,0.367,1.367c0.477,0.275,1.089,0.113,1.365-0.365C23.464,19.461,23.3,18.848,22.823,18.572zM19.938,7.813c-0.477-0.276-1.091-0.111-1.365,0.366c-0.275,0.48-0.111,1.091,0.366,1.367s1.089,0.112,1.366-0.366C20.581,8.702,20.418,8.089,19.938,7.813zM23.378,14.5c-0.554,0.002-1.001,0.45-1.001,1c0.001,0.552,0.448,1,1.001,1c0.551,0,1-0.447,1-1C24.378,14.949,23.929,14.5,23.378,14.5zM15.501,6.624c-0.552,0-1,0.448-1,1l-0.466,7.343l-3.004,1.96c-0.478,0.277-0.642,0.889-0.365,1.365c0.275,0.479,0.889,0.643,1.365,0.367l3.305-1.676C15.39,16.99,15.444,17,15.501,17c0.828,0,1.5-0.671,1.5-1.5l-0.5-7.876C16.501,7.072,16.053,6.624,15.501,6.624zM15.501,22.377c-0.552,0-1,0.447-1,1s0.448,1,1,1s1-0.447,1-1S16.053,22.377,15.501,22.377zM18.939,21.455c-0.479,0.277-0.643,0.889-0.366,1.367c0.275,0.477,0.888,0.643,1.366,0.365c0.478-0.275,0.642-0.889,0.366-1.365C20.028,21.344,19.417,21.18,18.939,21.455z\",\n  },\n  animation_pathWingButton: {\n    tagName: \"path\",\n    d:\n      \"m 4.5,0.5 c -2.216,0 -4,1.784 -4,4 l 0,24 c 0,2.216 1.784,4 4,4 l 13.71875,0 C 22.478584,27.272785 27.273681,22.511272 32.5,18.25 l 0,-13.75 c 0,-2.216 -1.784,-4 -4,-4 l -24,0 z\",\n  },\n  animation_pathPointer: {\n    tagName: \"path\",\n    d: \"M-15,-65,-15,-55,15,-55,15,-65,0,-95z\",\n  },\n  animation_pathSwooshFX: {\n    tagName: \"path\",\n    d:\n      \"m 85,0 c 0,16.617 -4.813944,35.356 -13.131081,48.4508 h 6.099803 c 8.317138,-13.0948 13.13322,-28.5955 13.13322,-45.2124 0,-46.94483 -38.402714,-85.00262 -85.7743869,-85.00262 -1.0218522,0 -2.0373001,0.0241 -3.0506131,0.0589 45.958443,1.59437 82.723058,35.77285 82.723058,81.70532 z\",\n  },\n};\n\n//Dynamically builds an SVG element from a JSON object.\nfunction svgFromObject(obj) {\n  var ele = document.createElementNS(svgNS, obj.tagName);\n  for (var field in obj) {\n    if (obj.hasOwnProperty(field) && field !== \"tagName\") {\n      if (field === \"children\") {\n        var i;\n        var len = obj.children.length;\n        for (i = 0; i < len; ++i) {\n          ele.appendChild(svgFromObject(obj.children[i]));\n        }\n      } else if (field.indexOf(\"xlink:\") === 0) {\n        ele.setAttributeNS(xlinkNS, field.substring(6), obj[field]);\n      } else if (field === \"textContent\") {\n        ele.textContent = obj[field];\n      } else {\n        ele.setAttribute(field, obj[field]);\n      }\n    }\n  }\n  return ele;\n}\n\nfunction svgText(x, y, msg) {\n  var text = document.createElementNS(svgNS, \"text\");\n  text.setAttribute(\"x\", x);\n  text.setAttribute(\"y\", y);\n  text.setAttribute(\"class\", \"cesium-animation-svgText\");\n\n  var tspan = document.createElementNS(svgNS, \"tspan\");\n  tspan.textContent = msg;\n  text.appendChild(tspan);\n  return text;\n}\n\nfunction setShuttleRingPointer(shuttleRingPointer, knobOuter, angle) {\n  shuttleRingPointer.setAttribute(\n    \"transform\",\n    \"translate(100,100) rotate(\" + angle + \")\"\n  );\n  knobOuter.setAttribute(\"transform\", \"rotate(\" + angle + \")\");\n}\n\nvar makeColorStringScratch = new Color();\nfunction makeColorString(background, gradient) {\n  var gradientAlpha = gradient.alpha;\n  var backgroundAlpha = 1.0 - gradientAlpha;\n  makeColorStringScratch.red =\n    background.red * backgroundAlpha + gradient.red * gradientAlpha;\n  makeColorStringScratch.green =\n    background.green * backgroundAlpha + gradient.green * gradientAlpha;\n  makeColorStringScratch.blue =\n    background.blue * backgroundAlpha + gradient.blue * gradientAlpha;\n  return makeColorStringScratch.toCssColorString();\n}\n\nfunction rectButton(x, y, path) {\n  var iconInfo = svgIconsById[path];\n\n  var button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: \"translate(\" + x + \",\" + y + \")\",\n    children: [\n      {\n        tagName: \"rect\",\n        class: \"cesium-animation-buttonGlow\",\n        width: 32,\n        height: 32,\n        rx: 2,\n        ry: 2,\n      },\n      {\n        tagName: \"rect\",\n        class: \"cesium-animation-buttonMain\",\n        width: 32,\n        height: 32,\n        rx: 4,\n        ry: 4,\n      },\n      {\n        class: \"cesium-animation-buttonPath\",\n        id: path,\n        tagName: iconInfo.tagName,\n        transform: iconInfo.transform,\n        d: iconInfo.d,\n      },\n      {\n        tagName: \"title\",\n        textContent: \"\",\n      },\n    ],\n  };\n  return svgFromObject(button);\n}\n\nfunction wingButton(x, y, path) {\n  var buttonIconInfo = svgIconsById[path];\n  var wingIconInfo = svgIconsById[\"animation_pathWingButton\"];\n\n  var button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: \"translate(\" + x + \",\" + y + \")\",\n    children: [\n      {\n        class: \"cesium-animation-buttonGlow\",\n        id: \"animation_pathWingButton\",\n        tagName: wingIconInfo.tagName,\n        d: wingIconInfo.d,\n      },\n      {\n        class: \"cesium-animation-buttonMain\",\n        id: \"animation_pathWingButton\",\n        tagName: wingIconInfo.tagName,\n        d: wingIconInfo.d,\n      },\n      {\n        class: \"cesium-animation-buttonPath\",\n        id: path,\n        tagName: buttonIconInfo.tagName,\n        transform: buttonIconInfo.transform,\n        d: buttonIconInfo.d,\n      },\n      {\n        tagName: \"title\",\n        textContent: \"\",\n      },\n    ],\n  };\n  return svgFromObject(button);\n}\n\nfunction setShuttleRingFromMouseOrTouch(widget, e) {\n  var viewModel = widget._viewModel;\n  var shuttleRingDragging = viewModel.shuttleRingDragging;\n\n  if (shuttleRingDragging && widgetForDrag !== widget) {\n    return;\n  }\n\n  if (\n    e.type === \"mousedown\" ||\n    (shuttleRingDragging && e.type === \"mousemove\") ||\n    (e.type === \"touchstart\" && e.touches.length === 1) ||\n    (shuttleRingDragging && e.type === \"touchmove\" && e.touches.length === 1)\n  ) {\n    var centerX = widget._centerX;\n    var centerY = widget._centerY;\n    var svg = widget._svgNode;\n    var rect = svg.getBoundingClientRect();\n    var clientX;\n    var clientY;\n    if (e.type === \"touchstart\" || e.type === \"touchmove\") {\n      clientX = e.touches[0].clientX;\n      clientY = e.touches[0].clientY;\n    } else {\n      clientX = e.clientX;\n      clientY = e.clientY;\n    }\n\n    if (\n      !shuttleRingDragging &&\n      (clientX > rect.right ||\n        clientX < rect.left ||\n        clientY < rect.top ||\n        clientY > rect.bottom)\n    ) {\n      return;\n    }\n\n    var pointerRect = widget._shuttleRingPointer.getBoundingClientRect();\n\n    var x = clientX - centerX - rect.left;\n    var y = clientY - centerY - rect.top;\n\n    var angle = (Math.atan2(y, x) * 180) / Math.PI + 90;\n    if (angle > 180) {\n      angle -= 360;\n    }\n    var shuttleRingAngle = viewModel.shuttleRingAngle;\n    if (\n      shuttleRingDragging ||\n      (clientX < pointerRect.right &&\n        clientX > pointerRect.left &&\n        clientY > pointerRect.top &&\n        clientY < pointerRect.bottom)\n    ) {\n      widgetForDrag = widget;\n      viewModel.shuttleRingDragging = true;\n      viewModel.shuttleRingAngle = angle;\n    } else if (angle < shuttleRingAngle) {\n      viewModel.slower();\n    } else if (angle > shuttleRingAngle) {\n      viewModel.faster();\n    }\n    e.preventDefault();\n  } else {\n    if (widget === widgetForDrag) {\n      widgetForDrag = undefined;\n    }\n    viewModel.shuttleRingDragging = false;\n  }\n}\n\n//This is a private class for treating an SVG element like a button.\n//If we ever need a general purpose SVG button, we can make this generic.\nfunction SvgButton(svgElement, viewModel) {\n  this._viewModel = viewModel;\n  this.svgElement = svgElement;\n  this._enabled = undefined;\n  this._toggled = undefined;\n\n  var that = this;\n  this._clickFunction = function () {\n    var command = that._viewModel.command;\n    if (command.canExecute) {\n      command();\n    }\n  };\n\n  svgElement.addEventListener(\"click\", this._clickFunction, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  this._subscriptions = [\n    //\n    subscribeAndEvaluate(viewModel, \"toggled\", this.setToggled, this), //\n    subscribeAndEvaluate(viewModel, \"tooltip\", this.setTooltip, this), //\n    subscribeAndEvaluate(\n      viewModel.command,\n      \"canExecute\",\n      this.setEnabled,\n      this\n    ),\n  ];\n}\n\nSvgButton.prototype.destroy = function () {\n  this.svgElement.removeEventListener(\"click\", this._clickFunction, true);\n  var subscriptions = this._subscriptions;\n  for (var i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n  destroyObject(this);\n};\n\nSvgButton.prototype.isDestroyed = function () {\n  return false;\n};\n\nSvgButton.prototype.setEnabled = function (enabled) {\n  if (this._enabled !== enabled) {\n    this._enabled = enabled;\n\n    if (!enabled) {\n      this.svgElement.setAttribute(\"class\", \"cesium-animation-buttonDisabled\");\n      return;\n    }\n\n    if (this._toggled) {\n      this.svgElement.setAttribute(\n        \"class\",\n        \"cesium-animation-rectButton cesium-animation-buttonToggled\"\n      );\n      return;\n    }\n\n    this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n  }\n};\n\nSvgButton.prototype.setToggled = function (toggled) {\n  if (this._toggled !== toggled) {\n    this._toggled = toggled;\n\n    if (this._enabled) {\n      if (toggled) {\n        this.svgElement.setAttribute(\n          \"class\",\n          \"cesium-animation-rectButton cesium-animation-buttonToggled\"\n        );\n      } else {\n        this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n      }\n    }\n  }\n};\n\nSvgButton.prototype.setTooltip = function (tooltip) {\n  this.svgElement.getElementsByTagName(\"title\")[0].textContent = tooltip;\n};\n\n/**\n * <span style=\"display: block; text-align: center;\">\n * <img src=\"Images/AnimationWidget.png\" width=\"211\" height=\"142\" alt=\"\" />\n * <br />Animation widget\n * </span>\n * <br /><br />\n * The Animation widget provides buttons for play, pause, and reverse, along with the\n * current time and date, surrounded by a \"shuttle ring\" for controlling the speed of animation.\n * <br /><br />\n * The \"shuttle ring\" concept is borrowed from video editing, where typically a\n * \"jog wheel\" can be rotated to move past individual animation frames very slowly, and\n * a surrounding shuttle ring can be twisted to control direction and speed of fast playback.\n * Cesium typically treats time as continuous (not broken into pre-defined animation frames),\n * so this widget offers no jog wheel.  Instead, the shuttle ring is capable of both fast and\n * very slow playback.  Click and drag the shuttle ring pointer itself (shown above in green),\n * or click in the rest of the ring area to nudge the pointer to the next preset speed in that direction.\n * <br /><br />\n * The Animation widget also provides a \"realtime\" button (in the upper-left) that keeps\n * animation time in sync with the end user's system clock, typically displaying\n * \"today\" or \"right now.\"  This mode is not available in {@link ClockRange.CLAMPED} or\n * {@link ClockRange.LOOP_STOP} mode if the current time is outside of {@link Clock}'s startTime and endTime.\n *\n * @alias Animation\n * @constructor\n *\n * @param {Element|String} container The DOM element or ID that will contain the widget.\n * @param {AnimationViewModel} viewModel The view model used by this widget.\n *\n * @exception {DeveloperError} Element with id \"container\" does not exist in the document.\n *\n *\n * @example\n * // In HTML head, include a link to Animation.css stylesheet,\n * // and in the body, include: <div id=\"animationContainer\"></div>\n *\n * var clock = new Cesium.Clock();\n * var clockViewModel = new Cesium.ClockViewModel(clock);\n * var viewModel = new Cesium.AnimationViewModel(clockViewModel);\n * var widget = new Cesium.Animation('animationContainer', viewModel);\n *\n * function tick() {\n *     clock.tick();\n *     Cesium.requestAnimationFrame(tick);\n * }\n * Cesium.requestAnimationFrame(tick);\n *\n * @see AnimationViewModel\n * @see Clock\n */\nfunction Animation(container, viewModel) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(container)) {\n    throw new DeveloperError(\"container is required.\");\n  }\n  if (!defined(viewModel)) {\n    throw new DeveloperError(\"viewModel is required.\");\n  }\n  //>>includeEnd('debug');\n\n  container = getElement(container);\n  this._viewModel = viewModel;\n  this._container = container;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._defsElement = undefined;\n  this._svgNode = undefined;\n  this._topG = undefined;\n  this._lastHeight = undefined;\n  this._lastWidth = undefined;\n\n  var ownerDocument = container.ownerDocument;\n\n  // Firefox requires SVG references to be included directly, not imported from external CSS.\n  // Also, CSS minifiers get confused by this being in an external CSS file.\n  var cssStyle = document.createElement(\"style\");\n  cssStyle.textContent =\n    \".cesium-animation-rectButton .cesium-animation-buttonGlow { filter: url(#animation_blurred); }\\\n.cesium-animation-rectButton .cesium-animation-buttonMain { fill: url(#animation_buttonNormal); }\\\n.cesium-animation-buttonToggled .cesium-animation-buttonMain { fill: url(#animation_buttonToggled); }\\\n.cesium-animation-rectButton:hover .cesium-animation-buttonMain { fill: url(#animation_buttonHovered); }\\\n.cesium-animation-buttonDisabled .cesium-animation-buttonMain { fill: url(#animation_buttonDisabled); }\\\n.cesium-animation-shuttleRingG .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshGradient); }\\\n.cesium-animation-shuttleRingG:hover .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshHovered); }\\\n.cesium-animation-shuttleRingPointer { fill: url(#animation_shuttleRingPointerGradient); }\\\n.cesium-animation-shuttleRingPausePointer { fill: url(#animation_shuttleRingPointerPaused); }\\\n.cesium-animation-knobOuter { fill: url(#animation_knobOuter); }\\\n.cesium-animation-knobInner { fill: url(#animation_knobInner); }\";\n\n  ownerDocument.head.insertBefore(cssStyle, ownerDocument.head.childNodes[0]);\n\n  var themeEle = document.createElement(\"div\");\n  themeEle.className = \"cesium-animation-theme\";\n  themeEle.innerHTML =\n    '<div class=\"cesium-animation-themeNormal\"></div>\\\n<div class=\"cesium-animation-themeHover\"></div>\\\n<div class=\"cesium-animation-themeSelect\"></div>\\\n<div class=\"cesium-animation-themeDisabled\"></div>\\\n<div class=\"cesium-animation-themeKnob\"></div>\\\n<div class=\"cesium-animation-themePointer\"></div>\\\n<div class=\"cesium-animation-themeSwoosh\"></div>\\\n<div class=\"cesium-animation-themeSwooshHover\"></div>';\n\n  this._theme = themeEle;\n  this._themeNormal = themeEle.childNodes[0];\n  this._themeHover = themeEle.childNodes[1];\n  this._themeSelect = themeEle.childNodes[2];\n  this._themeDisabled = themeEle.childNodes[3];\n  this._themeKnob = themeEle.childNodes[4];\n  this._themePointer = themeEle.childNodes[5];\n  this._themeSwoosh = themeEle.childNodes[6];\n  this._themeSwooshHover = themeEle.childNodes[7];\n\n  var svg = document.createElementNS(svgNS, \"svg:svg\");\n  this._svgNode = svg;\n\n  // Define the XLink namespace that SVG uses\n  svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", xlinkNS);\n\n  var topG = document.createElementNS(svgNS, \"g\");\n  this._topG = topG;\n\n  this._realtimeSVG = new SvgButton(\n    wingButton(3, 4, \"animation_pathClock\"),\n    viewModel.playRealtimeViewModel\n  );\n  this._playReverseSVG = new SvgButton(\n    rectButton(44, 99, \"animation_pathPlayReverse\"),\n    viewModel.playReverseViewModel\n  );\n  this._playForwardSVG = new SvgButton(\n    rectButton(124, 99, \"animation_pathPlay\"),\n    viewModel.playForwardViewModel\n  );\n  this._pauseSVG = new SvgButton(\n    rectButton(84, 99, \"animation_pathPause\"),\n    viewModel.pauseViewModel\n  );\n\n  var buttonsG = document.createElementNS(svgNS, \"g\");\n  buttonsG.appendChild(this._realtimeSVG.svgElement);\n  buttonsG.appendChild(this._playReverseSVG.svgElement);\n  buttonsG.appendChild(this._playForwardSVG.svgElement);\n  buttonsG.appendChild(this._pauseSVG.svgElement);\n\n  var shuttleRingBackPanel = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-shuttleRingBack\",\n    cx: 100,\n    cy: 100,\n    r: 99,\n  });\n  this._shuttleRingBackPanel = shuttleRingBackPanel;\n\n  var swooshIconInfo = svgIconsById[\"animation_pathSwooshFX\"];\n  var shuttleRingPointerIconInfo = svgIconsById[\"animation_pathPointer\"];\n\n  var shuttleRingSwooshG = svgFromObject({\n    tagName: \"g\",\n    class: \"cesium-animation-shuttleRingSwoosh\",\n    children: [\n      {\n        tagName: swooshIconInfo.tagName,\n        transform: \"translate(100,97) scale(-1,1)\",\n        id: \"animation_pathSwooshFX\",\n        d: swooshIconInfo.d,\n      },\n      {\n        tagName: swooshIconInfo.tagName,\n        transform: \"translate(100,97)\",\n        id: \"animation_pathSwooshFX\",\n        d: swooshIconInfo.d,\n      },\n      {\n        tagName: \"line\",\n        x1: 100,\n        y1: 8,\n        x2: 100,\n        y2: 22,\n      },\n    ],\n  });\n  this._shuttleRingSwooshG = shuttleRingSwooshG;\n\n  this._shuttleRingPointer = svgFromObject({\n    class: \"cesium-animation-shuttleRingPointer\",\n    id: \"animation_pathPointer\",\n    tagName: shuttleRingPointerIconInfo.tagName,\n    d: shuttleRingPointerIconInfo.d,\n  });\n\n  var knobG = svgFromObject({\n    tagName: \"g\",\n    transform: \"translate(100,100)\",\n  });\n\n  this._knobOuter = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobOuter\",\n    cx: 0,\n    cy: 0,\n    r: 71,\n  });\n\n  var knobInnerAndShieldSize = 61;\n\n  var knobInner = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobInner\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize,\n  });\n\n  this._knobDate = svgText(0, -24, \"\");\n  this._knobTime = svgText(0, -7, \"\");\n  this._knobStatus = svgText(0, -41, \"\");\n\n  // widget shield catches clicks on the knob itself (even while DOM elements underneath are changing).\n  var knobShield = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-blank\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize,\n  });\n\n  var shuttleRingBackG = document.createElementNS(svgNS, \"g\");\n  shuttleRingBackG.setAttribute(\"class\", \"cesium-animation-shuttleRingG\");\n\n  container.appendChild(themeEle);\n  topG.appendChild(shuttleRingBackG);\n  topG.appendChild(knobG);\n  topG.appendChild(buttonsG);\n\n  shuttleRingBackG.appendChild(shuttleRingBackPanel);\n  shuttleRingBackG.appendChild(shuttleRingSwooshG);\n  shuttleRingBackG.appendChild(this._shuttleRingPointer);\n\n  knobG.appendChild(this._knobOuter);\n  knobG.appendChild(knobInner);\n  knobG.appendChild(this._knobDate);\n  knobG.appendChild(this._knobTime);\n  knobG.appendChild(this._knobStatus);\n  knobG.appendChild(knobShield);\n\n  svg.appendChild(topG);\n  container.appendChild(svg);\n\n  var that = this;\n  function mouseCallback(e) {\n    setShuttleRingFromMouseOrTouch(that, e);\n  }\n  this._mouseCallback = mouseCallback;\n\n  shuttleRingBackPanel.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingBackPanel.addEventListener(\"touchstart\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"touchstart\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mousemove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchmove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mouseup\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchend\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchcancel\", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener(\"mousedown\", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener(\"touchstart\", mouseCallback, true);\n  this._knobOuter.addEventListener(\"mousedown\", mouseCallback, true);\n  this._knobOuter.addEventListener(\"touchstart\", mouseCallback, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  var timeNode = this._knobTime.childNodes[0];\n  var dateNode = this._knobDate.childNodes[0];\n  var statusNode = this._knobStatus.childNodes[0];\n  var isPaused;\n  this._subscriptions = [\n    //\n    subscribeAndEvaluate(viewModel.pauseViewModel, \"toggled\", function (value) {\n      if (isPaused !== value) {\n        isPaused = value;\n        if (isPaused) {\n          that._shuttleRingPointer.setAttribute(\n            \"class\",\n            \"cesium-animation-shuttleRingPausePointer\"\n          );\n        } else {\n          that._shuttleRingPointer.setAttribute(\n            \"class\",\n            \"cesium-animation-shuttleRingPointer\"\n          );\n        }\n      }\n    }),\n\n    subscribeAndEvaluate(viewModel, \"shuttleRingAngle\", function (value) {\n      setShuttleRingPointer(that._shuttleRingPointer, that._knobOuter, value);\n    }),\n\n    subscribeAndEvaluate(viewModel, \"dateLabel\", function (value) {\n      if (dateNode.textContent !== value) {\n        dateNode.textContent = value;\n      }\n    }),\n\n    subscribeAndEvaluate(viewModel, \"timeLabel\", function (value) {\n      if (timeNode.textContent !== value) {\n        timeNode.textContent = value;\n      }\n    }),\n\n    subscribeAndEvaluate(viewModel, \"multiplierLabel\", function (value) {\n      if (statusNode.textContent !== value) {\n        statusNode.textContent = value;\n      }\n    }),\n  ];\n\n  this.applyThemeChanges();\n  this.resize();\n}\n\nObject.defineProperties(Animation.prototype, {\n  /**\n   * Gets the parent container.\n   *\n   * @memberof Animation.prototype\n   * @type {Element}\n   * @readonly\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the view model.\n   *\n   * @memberof Animation.prototype\n   * @type {AnimationViewModel}\n   * @readonly\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    },\n  },\n});\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nAnimation.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the animation widget.  Should be called if permanently\n * removing the widget from layout.\n */\nAnimation.prototype.destroy = function () {\n  if (defined(this._observer)) {\n    this._observer.disconnect();\n    this._observer = undefined;\n  }\n\n  var doc = this._container.ownerDocument;\n\n  var mouseCallback = this._mouseCallback;\n  this._shuttleRingBackPanel.removeEventListener(\n    \"mousedown\",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingBackPanel.removeEventListener(\n    \"touchstart\",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingSwooshG.removeEventListener(\n    \"mousedown\",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingSwooshG.removeEventListener(\n    \"touchstart\",\n    mouseCallback,\n    true\n  );\n  doc.removeEventListener(\"mousemove\", mouseCallback, true);\n  doc.removeEventListener(\"touchmove\", mouseCallback, true);\n  doc.removeEventListener(\"mouseup\", mouseCallback, true);\n  doc.removeEventListener(\"touchend\", mouseCallback, true);\n  doc.removeEventListener(\"touchcancel\", mouseCallback, true);\n  this._shuttleRingPointer.removeEventListener(\n    \"mousedown\",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingPointer.removeEventListener(\n    \"touchstart\",\n    mouseCallback,\n    true\n  );\n  this._knobOuter.removeEventListener(\"mousedown\", mouseCallback, true);\n  this._knobOuter.removeEventListener(\"touchstart\", mouseCallback, true);\n\n  this._container.removeChild(this._svgNode);\n  this._container.removeChild(this._theme);\n  this._realtimeSVG.destroy();\n  this._playReverseSVG.destroy();\n  this._playForwardSVG.destroy();\n  this._pauseSVG.destroy();\n\n  var subscriptions = this._subscriptions;\n  for (var i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n\n  return destroyObject(this);\n};\n\n/**\n * Resizes the widget to match the container size.\n * This function should be called whenever the container size is changed.\n */\nAnimation.prototype.resize = function () {\n  var parentWidth = this._container.clientWidth;\n  var parentHeight = this._container.clientHeight;\n  if (parentWidth === this._lastWidth && parentHeight === this._lastHeight) {\n    return;\n  }\n\n  var svg = this._svgNode;\n\n  //The width and height as the SVG was originally drawn.\n  var baseWidth = 200;\n  var baseHeight = 132;\n\n  var width = parentWidth;\n  var height = parentHeight;\n\n  if (parentWidth === 0 && parentHeight === 0) {\n    width = baseWidth;\n    height = baseHeight;\n  } else if (parentWidth === 0) {\n    height = parentHeight;\n    width = baseWidth * (parentHeight / baseHeight);\n  } else if (parentHeight === 0) {\n    width = parentWidth;\n    height = baseHeight * (parentWidth / baseWidth);\n  }\n\n  var scaleX = width / baseWidth;\n  var scaleY = height / baseHeight;\n\n  svg.style.cssText =\n    \"width: \" +\n    width +\n    \"px; height: \" +\n    height +\n    \"px; position: absolute; bottom: 0; left: 0; overflow: hidden;\";\n  svg.setAttribute(\"width\", width);\n  svg.setAttribute(\"height\", height);\n  svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n\n  this._topG.setAttribute(\"transform\", \"scale(\" + scaleX + \",\" + scaleY + \")\");\n\n  this._centerX = Math.max(1, 100.0 * scaleX);\n  this._centerY = Math.max(1, 100.0 * scaleY);\n\n  this._lastHeight = parentWidth;\n  this._lastWidth = parentHeight;\n};\n\n/**\n * Updates the widget to reflect any modified CSS rules for theming.\n *\n * @example\n * //Switch to the cesium-lighter theme.\n * document.body.className = 'cesium-lighter';\n * animation.applyThemeChanges();\n */\nAnimation.prototype.applyThemeChanges = function () {\n  // Since we rely on computed styles for themeing, we can't actually\n  // do anything if the container has not yet been added to the DOM.\n  // Set up an observer to be notified when it is added and apply\n  // the changes at that time.\n\n  var doc = this._container.ownerDocument;\n\n  if (!doc.body.contains(this._container)) {\n    if (defined(this._observer)) {\n      //Already listening.\n      return;\n    }\n    var that = this;\n    that._observer = new MutationObserver(function () {\n      if (doc.body.contains(that._container)) {\n        that._observer.disconnect();\n        that._observer = undefined;\n        that.applyThemeChanges();\n      }\n    });\n    that._observer.observe(doc, { childList: true, subtree: true });\n    return;\n  }\n\n  var buttonNormalBackColor = getElementColor(this._themeNormal);\n  var buttonHoverBackColor = getElementColor(this._themeHover);\n  var buttonToggledBackColor = getElementColor(this._themeSelect);\n  var buttonDisabledBackColor = getElementColor(this._themeDisabled);\n  var knobBackColor = getElementColor(this._themeKnob);\n  var pointerColor = getElementColor(this._themePointer);\n  var swooshColor = getElementColor(this._themeSwoosh);\n  var swooshHoverColor = getElementColor(this._themeSwooshHover);\n\n  var defsElement = svgFromObject({\n    tagName: \"defs\",\n    children: [\n      {\n        id: \"animation_buttonNormal\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          //add a 'stop-opacity' field to make translucent.\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor0\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"12%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor1\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"46%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor2\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"81%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor3\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_buttonHovered\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor0\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"12%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor1\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"46%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor2\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"81%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor3\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_buttonToggled\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor0\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"12%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor1\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"46%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor2\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"81%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor3\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_buttonDisabled\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonDisabledBackColor,\n              gradientDisabledColor0\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"75%\",\n            \"stop-color\": makeColorString(\n              buttonDisabledBackColor,\n              gradientDisabledColor1\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_blurred\",\n        tagName: \"filter\",\n        width: \"200%\",\n        height: \"200%\",\n        x: \"-50%\",\n        y: \"-50%\",\n        children: [\n          {\n            tagName: \"feGaussianBlur\",\n            stdDeviation: 4,\n            in: \"SourceGraphic\",\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingSwooshGradient\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-opacity\": 0.2,\n            \"stop-color\": swooshColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-opacity\": 0.85,\n            \"stop-color\": swooshColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"95%\",\n            \"stop-opacity\": 0.05,\n            \"stop-color\": swooshColor.toCssColorString(),\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingSwooshHovered\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-opacity\": 0.2,\n            \"stop-color\": swooshHoverColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-opacity\": 0.85,\n            \"stop-color\": swooshHoverColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"95%\",\n            \"stop-opacity\": 0.05,\n            \"stop-color\": swooshHoverColor.toCssColorString(),\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingPointerGradient\",\n        tagName: \"linearGradient\",\n        x1: \"0%\",\n        y1: \"50%\",\n        x2: \"100%\",\n        y2: \"50%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": pointerColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"40%\",\n            \"stop-color\": pointerColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": makeColorString(pointerColor, gradientPointerColor),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"100%\",\n            \"stop-color\": makeColorString(pointerColor, gradientPointerColor),\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingPointerPaused\",\n        tagName: \"linearGradient\",\n        x1: \"0%\",\n        y1: \"50%\",\n        x2: \"100%\",\n        y2: \"50%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": \"#CCC\",\n          },\n          {\n            tagName: \"stop\",\n            offset: \"40%\",\n            \"stop-color\": \"#CCC\",\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": \"#555\",\n          },\n          {\n            tagName: \"stop\",\n            offset: \"100%\",\n            \"stop-color\": \"#555\",\n          },\n        ],\n      },\n      {\n        id: \"animation_knobOuter\",\n        tagName: \"linearGradient\",\n        x1: \"20%\",\n        y1: \"0%\",\n        x2: \"90%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"5%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientKnobColor),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor1),\n          },\n        ],\n      },\n      {\n        id: \"animation_knobInner\",\n        tagName: \"linearGradient\",\n        x1: \"20%\",\n        y1: \"0%\",\n        x2: \"90%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"5%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientKnobColor),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor3),\n          },\n        ],\n      },\n    ],\n  });\n\n  if (!defined(this._defsElement)) {\n    this._svgNode.appendChild(defsElement);\n  } else {\n    this._svgNode.replaceChild(defsElement, this._defsElement);\n  }\n  this._defsElement = defsElement;\n};\nexport default Animation;\n"]},"metadata":{},"sourceType":"module"}